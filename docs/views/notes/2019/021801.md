---
title: JS面向对象的特点
date: 2019-02-18
tags:
  - js
categories:
  - notes
---

# js 面向对象的 3 大特性----封装,继承,多态

## 目录

1. [封装](#封装)  
   1.1 [ES6 前](#ES6-前)  
   1.2 [ES6](#ES6)

2. [继承](#继承)  
   2.1 [原型链继承](#原型链继承)  
   2.2 [构造继承](#构造继承)  
   2.3 [组合继承](#组合继承)  
   2.4 [寄生组合继承](#寄生组合继承)  
   2.5 [原型式继承](#原型式继承)  
   2.6 [寄生式继承](#寄生式继承)  
   2.7 [混入方式继承多个对象](#混入方式继承多个对象)  
   2.8 [class 继承](#class-继承)  
   2.9 [附](#附)

## 封装

> 把客观事物封装成抽象的类，隐藏属性和方法，仅对外公开接口

### ES6 前

- 方法: 构造函数
- 概念
  - 私有属性,公有属性,静态属性区别
    - 私有属性和方法：只能在构造函数内访问不能被外部所访问(在构造函数内使用声明符声明的属性)
    - 公有属性和方法(或实例方法)：对象外可以访问到对象内的属性和方法(在构造函数内使用 this 设置，或者设置在构造函数原型对象上比如 Object.prototype.xxx)
    - 静态属性和方法：定义在构造函数上的方法(比如 Cat.xxx)，不需要实例就可以调用(例如 Object.assign())
  - 实例对象上的属性和构造函数原型上的属性
    - 定义在构造函数原型对象上的属性和方法虽然不能直接表现在实例对象上，但是实例对象却可以访问或者调用它们。
    - 当访问一个对象的属性 / 方法时，它不仅仅在该对象上查找，还会查找该对象的原型，以及该对象的原型的原型，一层一层向上查找，直到找到一个名字匹配的属性 / 方法或到达原型链的末尾（null）。
  - 遍历实例对象属性的三种方法:
    - 使用 for...in...能获取到实例对象自身的属性和原型链上的属性
    - 使用 Object.keys()和 Object.getOwnPropertyNames()只能获取实例对象自身的属性
    - 可以通过.hasOwnProperty()方法传入属性名来判断一个属性是不是实例自身的属性

### ES6

- 方法: class 声明
- 概念:
  - class 的基本概念：
    - 当你使用 class 的时候，它会默认调用 constructor 这个函数，来接收一些参数，并构造出一个新的实例对象(this)并将它返回。
    - 如果你的 class 没有定义 constructor，也会隐式生成一个 constructor 方法
  - class 中几种定义属性的区别：
    - 在 constructor 中 var 一个变量，它只存在于 constructor 这个构造函数中( 即私有属性~方法 )
    - 在 constructor 中使用 this 定义的属性和方法会被定义到实例上(公有)
    - 在 class 中使用=来定义一个属性和方法，效果与第二点相同，会被定义到实例上(公有)
    - 在 class 中直接定义一个方法，会被添加到原型对象 prototype 上(公有)
    - 在 class 中使用了 static 修饰符定义的属性和方法被认为是静态的，被添加到类本身，不会添加到实例上(静态)
  - 与构造函数对比
    - class 本质虽然是个函数，但是并不会像函数一样提升至作用域最顶层
    - 如遇 class 中箭头函数等题目请参照构造函数来处理
    - 使用 class 生成的实例对象，也会有沿着原型链查找的功能

## 继承

> 继承就是子类可以使用父类的所有功能，并且对这些功能进行扩展

### 原型链继承

> 将子类的原型对象指向父类的实例

### 构造继承

> 在子类构造函数内部使用 call 或 apply 来调用父类构造函数

### 组合继承

> 使用原型链继承来保证子类能继承到父类原型中的属性和方法 ; 使用构造继承来保证子类能继承到父类的实例属性和方法

### 寄生组合继承

> `Object.create` 来构建子类原型,在子类构造函数内部使用 call 或 apply 来调用父类构造函数

### 原型式继承

> es5 前模拟实现 object.create 的方法

### 寄生式继承

> es5 前模拟实现 object.create + 自定义内容

### 混入方式继承多个对象

> 使用 Object.assign 使一个子类继承多个父类的对象和方法

### class 继承

> extends + super

### 附

- instanceof 运算符
  - 作用: 用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上
  - 用法: 实例对象 a instanceof 构造函数 B
- isPrototypeOf()
  - 来源: 属于 Object.prototype 上的方法,作用同上
  - 用法: 构造函数 B.prototype.isPrototypeOf(实例对象 a)
